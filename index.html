<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>David Kambetov — Academic & Data Mentorship</title>
  <meta name="description" content="Премиальная интеллектуальная поддержка: менторство, репетиторство, разбор задач и проектов. Математика, экономика, английский, BPMN, ArchiMate, Python, SQL, ML."/>
  <style>
    :root{
      --bg0:#070A12;
      --bg1:#0B1020;
      --txt:#EAF0FF;
      --muted:rgba(234,240,255,.72);
      --muted2:rgba(234,240,255,.55);
      --stroke:rgba(255,255,255,.10);
      --stroke2:rgba(255,255,255,.14);
      --glass:rgba(255,255,255,.06);
      --glass2:rgba(255,255,255,.09);
      --shadow: 0 22px 70px rgba(0,0,0,.45);
      --shadow2: 0 10px 28px rgba(0,0,0,.35);
      --radius: 20px;
      --radius2: 28px;
      --max: 1100px;

      /* liquid accents */
      --a1: rgba(99, 102, 241, .62);  /* indigo */
      --a2: rgba(34, 211, 238, .55);  /* cyan */
      --a3: rgba(168, 85, 247, .50);  /* purple */
      --a4: rgba(16, 185, 129, .45);  /* emerald */
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      color:var(--txt);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
      background:
        radial-gradient(900px 600px at 15% 10%, rgba(99,102,241,.20), transparent 55%),
        radial-gradient(900px 650px at 85% 20%, rgba(34,211,238,.16), transparent 55%),
        radial-gradient(900px 700px at 55% 95%, rgba(168,85,247,.14), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    a{color:inherit; text-decoration:none}
    .wrap{max-width:var(--max); margin:0 auto; padding:0 18px}
    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      background: linear-gradient(180deg, rgba(7,10,18,.72), rgba(7,10,18,.45));
      border-bottom:1px solid var(--stroke);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 0;
      gap:14px;
    }
    .brand{
      display:flex; align-items:center; gap:10px; min-width:240px;
    }
    .logo{
      width:38px; height:38px; border-radius:14px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), transparent 60%),
                  linear-gradient(135deg, rgba(99,102,241,.85), rgba(34,211,238,.75));
      border:1px solid var(--stroke2);
      box-shadow: var(--shadow2);
      position:relative;
      overflow:hidden;
    }
    .logo:after{
      content:"";
      position:absolute; inset:-20px;
      background: radial-gradient(circle at 70% 20%, rgba(255,255,255,.22), transparent 50%);
      transform: rotate(15deg);
    }
    .brand h1{font-size:14px; margin:0; letter-spacing:.2px}
    .brand p{margin:2px 0 0; font-size:12px; color:var(--muted2)}
    .links{display:flex; gap:14px; align-items:center; flex-wrap:wrap; justify-content:flex-end}
    .links a{
      font-size:13px; color:var(--muted);
      padding:8px 10px; border-radius:12px;
      border:1px solid transparent;
    }
    .links a:hover{border-color:var(--stroke); background:rgba(255,255,255,.03)}
    .btn{
      border:1px solid var(--stroke2);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
      color:var(--txt);
      padding:10px 14px;
      border-radius:14px;
      cursor:pointer;
      transition: transform .15s ease, background .2s ease, border-color .2s ease;
      box-shadow: 0 10px 30px rgba(0,0,0,.22);
      font-weight:600;
      letter-spacing:.1px;
      display:inline-flex;
      align-items:center;
      gap:8px;
      user-select:none;
    }
    .btn:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.22);
      background: linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06));
    }
    .btn.primary{
      border-color: rgba(34,211,238,.35);
      background: linear-gradient(135deg, rgba(99,102,241,.35), rgba(34,211,238,.26));
    }
    .btn.ghost{
      background: transparent;
      box-shadow:none;
    }

    /* Hero */
    .hero{
      padding:54px 0 26px;
      position:relative;
    }
    .heroGrid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap:18px;
      align-items:stretch;
    }
    @media (max-width: 900px){
      .heroGrid{grid-template-columns:1fr; }
      .brand{min-width:auto}
      .links{gap:10px}
    }
    .card{
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, var(--glass), rgba(255,255,255,.03));
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .card::before{
      content:"";
      position:absolute; inset:-1px;
      background:
        radial-gradient(600px 320px at 15% 20%, var(--a1), transparent 62%),
        radial-gradient(520px 300px at 70% 0%, var(--a2), transparent 58%),
        radial-gradient(560px 420px at 80% 100%, var(--a3), transparent 62%);
      opacity:.25;
      pointer-events:none;
      filter: blur(2px);
    }
    .cardInner{position:relative; padding:26px}
    .kicker{
      display:inline-flex; gap:8px; align-items:center;
      font-size:12px; color:var(--muted);
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      padding:8px 10px; border-radius:999px;
    }
    .dot{
      width:8px; height:8px; border-radius:50%;
      background: rgba(34,211,238,.85);
      box-shadow: 0 0 20px rgba(34,211,238,.45);
    }
    .hero h2{
      margin:14px 0 10px;
      font-size:40px;
      line-height:1.05;
      letter-spacing:-.7px;
    }
    @media (max-width: 520px){ .hero h2{font-size:34px} }
    .lead{
      margin:0;
      color:var(--muted);
      font-size:15px;
      line-height:1.6;
      max-width:58ch;
    }
    .ctaRow{display:flex; gap:10px; flex-wrap:wrap; margin-top:18px; align-items:center}
    .micro{
      margin-top:10px;
      font-size:12px;
      color:var(--muted2);
    }
    .miniGrid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
    }
    @media (max-width: 520px){ .miniGrid{grid-template-columns:1fr} }
    .mini{
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border-radius: var(--radius);
      padding:14px;
      position:relative;
      overflow:hidden;
    }
    .mini h3{margin:0 0 6px; font-size:14px}
    .mini p{margin:0; color:var(--muted); font-size:13px; line-height:1.55}
    .pillRow{display:flex; flex-wrap:wrap; gap:8px; margin-top:14px}
    .pill{
      font-size:12px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      color:var(--muted);
    }

    /* Sections */
    section{padding:26px 0}
    .secHead{
      display:flex; justify-content:space-between; align-items:flex-end; gap:12px; flex-wrap:wrap;
      margin-bottom:12px;
    }
    .secHead h3{
      margin:0;
      font-size:20px;
      letter-spacing:-.2px;
    }
    .secHead p{margin:0; color:var(--muted); font-size:13px; line-height:1.5; max-width:70ch}
    .grid3{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }
    @media (max-width: 900px){ .grid3{grid-template-columns:1fr} }
    .item{
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border-radius: var(--radius2);
      padding:16px;
      position:relative;
      overflow:hidden;
    }
    .item strong{display:block; margin-bottom:6px; font-size:14px}
    .item ul{margin:0; padding-left:18px; color:var(--muted); font-size:13px; line-height:1.6}
    .item small{display:block; margin-top:10px; color:var(--muted2); font-size:12px}

    /* Subjects + filter */
    .toolbar{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between;
      margin-bottom:10px;
    }
    .chips{display:flex; gap:8px; flex-wrap:wrap}
    .chip{
      padding:8px 10px; border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      color:var(--muted);
      font-size:12px;
      cursor:pointer;
      transition: .15s ease;
      user-select:none;
    }
    .chip.active{
      color:var(--txt);
      border-color: rgba(34,211,238,.40);
      background: rgba(34,211,238,.12);
    }
    .search{
      flex:1;
      min-width:240px;
      display:flex;
      align-items:center;
      gap:8px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      border-radius: 14px;
      padding:10px 12px;
    }
    .search input{
      width:100%;
      background: transparent;
      border:0;
      outline: none;
      color:var(--txt);
      font-size:13px;
    }
    .subjectGrid{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:12px;
    }
    @media (max-width: 980px){ .subjectGrid{grid-template-columns: repeat(2, 1fr);} }
    @media (max-width: 520px){ .subjectGrid{grid-template-columns: 1fr;} }
    .subject{
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border-radius: var(--radius2);
      padding:14px;
      display:flex;
      flex-direction:column;
      gap:10px;
      position:relative;
      overflow:hidden;
    }
    .subject .top{
      display:flex; justify-content:space-between; gap:10px; align-items:flex-start;
    }
    .badge{
      font-size:11px;
      color:rgba(255,255,255,.75);
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      padding:6px 8px;
      border-radius:999px;
      white-space:nowrap;
    }
    .subject h4{margin:0; font-size:14px}
    .subject p{margin:0; color:var(--muted); font-size:13px; line-height:1.5}
    .subject .actions{display:flex; gap:8px; flex-wrap:wrap; margin-top:auto}

    /* Process */
    .steps{
      display:grid;
      grid-template-columns: repeat(5, 1fr);
      gap:10px;
    }
    @media (max-width: 900px){ .steps{grid-template-columns:1fr} }
    .step{
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      border-radius: var(--radius2);
      padding:14px;
    }
    .step .num{
      width:28px; height:28px; border-radius: 10px;
      display:inline-flex; align-items:center; justify-content:center;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      margin-bottom:10px;
      color:rgba(255,255,255,.9);
      font-weight:700;
      font-size:12px;
    }
    .step strong{display:block; font-size:13px; margin-bottom:6px}
    .step span{display:block; color:var(--muted); font-size:12.5px; line-height:1.55}

    /* FAQ */
    .faq{
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      border-radius: var(--radius2);
      overflow:hidden;
    }
    .q{
      padding:14px 16px;
      display:flex; justify-content:space-between; gap:10px; align-items:center;
      cursor:pointer;
      border-bottom:1px solid var(--stroke);
      user-select:none;
    }
    .q:last-child{border-bottom:0}
    .q strong{font-size:13px}
    .q em{font-style:normal; color:var(--muted); font-size:12px}
    .a{
      max-height:0;
      overflow:hidden;
      transition: max-height .25s ease;
      background: rgba(255,255,255,.02);
    }
    .a p{
      margin:0;
      padding:0 16px 14px 16px;
      color:var(--muted);
      font-size:13px;
      line-height:1.6;
    }
    .q.open + .a{max-height:220px}

    /* Footer CTA */
    .ctaCard{
      border:1px solid var(--stroke);
      background: linear-gradient(135deg, rgba(99,102,241,.20), rgba(34,211,238,.12));
      border-radius: var(--radius2);
      overflow:hidden;
      position:relative;
    }
    .ctaCard:before{
      content:"";
      position:absolute; inset:-1px;
      background: radial-gradient(800px 260px at 30% 30%, rgba(255,255,255,.16), transparent 55%);
      opacity:.6;
      pointer-events:none;
    }
    .ctaCard .cardInner{display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap; align-items:center}
    .ctaCard h3{margin:0; font-size:18px}
    .ctaCard p{margin:6px 0 0; color:var(--muted); font-size:13px; line-height:1.5}

    footer{padding:22px 0 40px; color:var(--muted2); font-size:12px}
    footer .row{display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap; align-items:center}
    .hr{height:1px; background: var(--stroke); margin:16px 0}

    /* Modal */
    .modalOverlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,.55);
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      z-index:100;
    }
    .modal{
      width:min(720px, 100%);
      border:1px solid var(--stroke2);
      border-radius: 26px;
      background: linear-gradient(180deg, rgba(16, 20, 35, .92), rgba(10, 12, 22, .92));
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .modalHead{
      padding:16px 16px 12px;
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      border-bottom:1px solid var(--stroke);
    }
    .modalHead h3{margin:0; font-size:16px}
    .modalHead p{margin:6px 0 0; color:var(--muted); font-size:12.5px; line-height:1.5}
    .x{
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      color:var(--txt);
      width:36px; height:36px;
      border-radius: 14px;
      cursor:pointer;
    }
    form{padding:14px 16px 16px}
    .formGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width: 720px){ .formGrid{grid-template-columns: 1fr;} }
    .field{
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      border-radius: 16px;
      padding:10px 12px;
    }
    .field label{display:block; font-size:12px; color:var(--muted2); margin-bottom:6px}
    .field input, .field select, .field textarea{
      width:100%;
      background: transparent;
      border:0;
      outline:none;
      color:var(--txt);
      font-size:13px;
    }
    .field textarea{min-height:100px; resize:vertical}
    .note{
      margin:10px 0 0;
      color:var(--muted2);
      font-size:12px;
      line-height:1.5;
    }
    .actionsRow{
      display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end;
      margin-top:12px;
    }
    .toast{
      position: fixed;
      right: 18px;
      bottom: 18px;
      background: rgba(10,12,22,.92);
      border: 1px solid var(--stroke2);
      border-radius: 16px;
      padding: 12px 14px;
      color: var(--txt);
      box-shadow: var(--shadow2);
      display:none;
      max-width: 340px;
      z-index: 200;
      font-size: 13px;
    }
    .toast small{display:block; color:var(--muted); margin-top:4px}
  </style>
</head>

<body>
  <div class="topbar">
    <div class="wrap">
      <div class="nav">
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <div>
            <h1>David Kambetov</h1>
            <p>Academic & Data Mentorship</p>
          </div>
        </div>

        <div class="links">
          <a href="#services">Услуги</a>
          <a href="#subjects">Направления</a>
          <a href="#process">Процесс</a>
          <a href="#faq">FAQ</a>
          <button class="btn primary" id="openModalBtn">Обсудить задачу ↗</button>
        </div>
      </div>
    </div>
  </div>

  <header class="hero">
    <div class="wrap">
      <div class="heroGrid">
        <div class="card">
          <div class="cardInner">
            <div class="kicker"><span class="dot"></span><span>Премиальная интеллектуальная поддержка</span></div>
            <h2>Сложные предметы —<br/>ясно, структурно, спокойно.</h2>
            <p class="lead">
              Менторство, репетиторство и разбор задач/проектов: от математики и экономики до Python/SQL/ML и нотаций BPMN/ArchiMate.
              <br/><br/>
              <b>Фокус:</b> понимание, качество, подготовка к сдаче/защите — без “магии” и шаблонов.
            </p>

            <div class="ctaRow">
              <button class="btn primary" id="openModalBtn2">Получить план решения</button>
              <a class="btn ghost" href="#subjects">Посмотреть направления ↓</a>
              <button class="btn" id="copyTgBtn" title="Скопировать контакт">Скопировать Telegram</button>
            </div>
            <div class="micro">Конфиденциально • Индивидуально • Без потока • Ответ в течение 24 часов</div>

            <div class="pillRow" aria-label="Ключевые тезисы">
              <span class="pill">Разбор по шагам</span>
              <span class="pill">Code review</span>
              <span class="pill">Подготовка к защите</span>
              <span class="pill">BPMN / ArchiMate</span>
              <span class="pill">Python / SQL / ML</span>
            </div>
          </div>
        </div>

        <div class="miniGrid">
          <div class="mini">
            <h3>Для кого</h3>
            <p>Студенты бакалавриата/магистратуры и junior-специалисты, которым нужен результат без хаоса.</p>
          </div>
          <div class="mini">
            <h3>Формат</h3>
            <p>Онлайн: 60–90 минут. До встречи — сбор требований. После — краткий план/конспект.</p>
          </div>
          <div class="mini">
            <h3>Принцип</h3>
            <p>Мы не “подменяем” обучение. Мы делаем так, чтобы ты понимал и мог защитить решение.</p>
          </div>
          <div class="mini">
            <h3>Скорость</h3>
            <p>Срочные задачи возможны, но не в ущерб качеству. Сначала — оценка объёма.</p>
          </div>
        </div>

      </div>
    </div>
  </header>

  <main>
    <section id="services">
      <div class="wrap">
        <div class="secHead">
          <div>
            <h3>Услуги</h3>
            <p>Формулировки специально “чистые”: премиум = доверие. Мы продаём ясность и контроль, а не “ответы”.</p>
          </div>
          <button class="btn" id="openModalBtn3">Запросить оценку задачи</button>
        </div>

        <div class="grid3">
          <div class="item">
            <strong>Репетиторство и разбор</strong>
            <ul>
              <li>понятные объяснения, без воды</li>
              <li>домашка как тренажёр, не как пытка</li>
              <li>подготовка к контрольным/экзаменам</li>
            </ul>
            <small>Идеально, если “плаваешь” и нужен системный прогресс.</small>
          </div>

          <div class="item">
            <strong>Проекты и задачи (с сопровождением)</strong>
            <ul>
              <li>структура решения и критерии качества</li>
              <li>разбор требований, чек-листы, дедлайны</li>
              <li>code review: Python/SQL/ML</li>
            </ul>
            <small>Фокус: чтобы ты понимал и мог защитить.</small>
          </div>

          <div class="item">
            <strong>Академический консалтинг</strong>
            <ul>
              <li>структура работы, логика, аргументация</li>
              <li>редактура и оформление</li>
              <li>подготовка презентации/защиты</li>
            </ul>
            <small>Чистый премиум-формат без репутационных рисков.</small>
          </div>
        </div>
      </div>
    </section>

    <section id="subjects">
      <div class="wrap">
        <div class="secHead">
          <div>
            <h3>Направления</h3>
            <p>Выбирай предмет или набери ключевые слова — карточки отфильтруются.</p>
          </div>
        </div>

        <div class="toolbar">
          <div class="chips" id="chips">
            <div class="chip active" data-tag="all">Все</div>
            <div class="chip" data-tag="data">Data</div>
            <div class="chip" data-tag="biz">Бизнес-архитектура</div>
            <div class="chip" data-tag="math">Математика</div>
            <div class="chip" data-tag="econ">Экономика</div>
            <div class="chip" data-tag="eng">English</div>
          </div>

          <div class="search" role="search">
            <span aria-hidden="true">⌕</span>
            <input id="searchInput" placeholder="Например: SQL, регрессия, BPMN, артикли…" />
          </div>
        </div>

        <div class="subjectGrid" id="subjectGrid">
          <!-- subjects injected by JS -->
        </div>
      </div>
    </section>

    <section id="process">
      <div class="wrap">
        <div class="secHead">
          <div>
            <h3>Процесс</h3>
            <p>Прозрачно. Без сюрпризов. Ты понимаешь, за что платишь на каждом шаге.</p>
          </div>
        </div>

        <div class="steps">
          <div class="step"><div class="num">1</div><strong>Запрос</strong><span>Описываешь задачу, дедлайн, формат и критерии.</span></div>
          <div class="step"><div class="num">2</div><strong>Оценка</strong><span>Я говорю честно: можно/нельзя, объём, план действий.</span></div>
          <div class="step"><div class="num">3</div><strong>Сессия</strong><span>Разбор и решение по шагам. Без “черных ящиков”.</span></div>
          <div class="step"><div class="num">4</div><strong>Результат</strong><span>Краткий конспект/план/комментарии к коду.</span></div>
          <div class="step"><div class="num">5</div><strong>Поддержка</strong><span>Уточнения и подготовка к защите (если нужно).</span></div>
        </div>
      </div>
    </section>

    <section id="faq">
      <div class="wrap">
        <div class="secHead">
          <div>
            <h3>FAQ</h3>
            <p>То, что обычно спрашивают в премиум-сегменте.</p>
          </div>
        </div>

        <div class="faq" id="faqBox">
          <div class="q"><strong>Это “сделать за меня” или “помочь разобраться”?</strong><em>нажми</em></div>
          <div class="a"><p>Формат премиум — это поддержка с пониманием: мы разбираем требования, строим решение и готовим к защите. Редактура/оформление — да. “Сделать так, чтобы ты не понимал” — нет.</p></div>

          <div class="q"><strong>Можно срочно?</strong><em>нажми</em></div>
          <div class="a"><p>Иногда да. Но я не беру то, что убьёт качество. Сначала оценка объёма и реального времени на работу.</p></div>

          <div class="q"><strong>Как ты обеспечиваешь конфиденциальность?</strong><em>нажми</em></div>
          <div class="a"><p>Минимум данных, только по задаче. Никаких публикаций, пересылок “третьим лицам” и шаблонов “на потоке”.</p></div>

          <div class="q"><strong>С чем ты сильнее всего?</strong><em>нажми</em></div>
          <div class="a"><p>Data-направления (Python/SQL/ML), аналитика, структура и логика решений. Плюс — BPMN/ArchiMate и прикладная экономика.</p></div>
        </div>
      </div>
    </section>

    <section>
      <div class="wrap">
        <div class="ctaCard">
          <div class="cardInner">
            <div>
              <h3>Готов обсудить задачу.</h3>
              <p>Опиши, что нужно сделать и к какому сроку. Я отвечу с планом и форматом.</p>
            </div>
            <div class="ctaRow">
              <button class="btn primary" id="openModalBtn4">Оставить заявку</button>
              <button class="btn" id="copyMailBtn">Скопировать email</button>
            </div>
          </div>
        </div>

        <div class="hr"></div>

        <footer>
          <div class="row">
            <div>© <span id="year"></span> David Kambetov</div>
            <div style="display:flex; gap:10px; flex-wrap:wrap;">
              <a href="#services">Услуги</a>
              <a href="#subjects">Направления</a>
              <a href="#process">Процесс</a>
              <a href="#faq">FAQ</a>
            </div>
          </div>
        </footer>
      </div>
    </section>
  </main>

  <!-- Modal -->
  <div class="modalOverlay" id="modalOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modalHead">
        <div>
          <h3 id="modalTitle">Заявка: оценка задачи</h3>
          <p>Заполни 60 секунд — и получишь понятный ответ: формат, план, сроки. (Отправка вручную через Telegram.)</p>
        </div>
        <button class="x" id="closeModalBtn" aria-label="Закрыть">✕</button>
      </div>

      <form id="leadForm">
        <div class="formGrid">
          <div class="field">
            <label>Имя</label>
            <input name="name" placeholder="Например: Давид" required />
          </div>
          <div class="field">
            <label>Контакт (Telegram @ / email)</label>
            <input name="contact" placeholder="@yourname или mail@example.com" required />
          </div>

          <div class="field">
            <label>Направление</label>
            <select name="subject" required>
              <option value="">Выбери…</option>
              <option>Математика</option>
              <option>Экономика</option>
              <option>Английский</option>
              <option>Python</option>
              <option>SQL</option>
              <option>Machine Learning</option>
              <option>BPMN</option>
              <option>ArchiMate</option>
            </select>
          </div>

          <div class="field">
            <label>Срок</label>
            <select name="deadline" required>
              <option value="">Выбери…</option>
              <option>Сегодня / завтра</option>
              <option>2–3 дня</option>
              <option>Неделя</option>
              <option>2+ недели</option>
            </select>
          </div>

          <div class="field" style="grid-column: 1 / -1;">
            <label>Что именно нужно (критерии + формат сдачи)</label>
            <textarea name="task" placeholder="Опиши задачу коротко: что нужно сделать, в каком виде сдавать, что уже есть (код/текст/данные)"></textarea>
          </div>

          <div class="field" style="grid-column: 1 / -1;">
            <label>Цель</label>
            <select name="goal" required>
              <option value="">Выбери…</option>
              <option>Разобраться и научиться</option>
              <option>Довести до сдачи / улучшить качество</option>
              <option>Подготовиться к защите</option>
              <option>Code review и исправления</option>
            </select>
          </div>
        </div>

        <p class="note">
          Примечание: я работаю в формате поддержки с пониманием — объяснение, структура, ревью, подготовка к защите, редактура.
        </p>

        <div class="actionsRow">
          <button class="btn" type="button" id="previewBtn">Сгенерировать текст для Telegram</button>
          <button class="btn primary" type="submit">Скопировать текст заявки</button>
        </div>
      </form>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

<script>
  // ====== Content data ======
  const TELEGRAM_HANDLE = "@kambetov";     // поменяй на свой
  const EMAIL = "david@kambetov.pro";      // поменяй на свой

  const subjects = [
    { title: "Python", tag: "data", badge: "code + data", desc: "Разбор задач, проекты, pandas, алгоритмы, подготовка к сдаче/защите.", cta:"Открыть заявку" },
    { title: "SQL", tag: "data", badge: "analytics", desc: "Окна, джоины, агрегации, запросы под кейсы, разбор ошибок.", cta:"Открыть заявку" },
    { title: "Machine Learning", tag: "data", badge: "ML", desc: "Регрессия/классификация, метрики, валидация, пайплайны, объяснение.", cta:"Открыть заявку" },
    { title: "Математика", tag: "math", badge: "foundation", desc: "Понимание и практика: от базы до прикладных задач.", cta:"Открыть заявку" },
    { title: "Экономика", tag: "econ", badge: "applied", desc: "Модели, расчёты, логика решения, аккуратная аргументация.", cta:"Открыть заявку" },
    { title: "English", tag: "eng", badge: "academic", desc: "Ясность речи, задания, письмо, структурные правки и подготовка.", cta:"Открыть заявку" },
    { title: "BPMN", tag: "biz", badge: "notation", desc: "Построение схем, типовые ошибки, ревью и доведение до стандарта.", cta:"Открыть заявку" },
    { title: "ArchiMate", tag: "biz", badge: "EA", desc: "Слои, связи, корректность модели, ревью и улучшение диаграмм.", cta:"Открыть заявку" }
  ];

  const subjectGrid = document.getElementById("subjectGrid");
  const chips = document.getElementById("chips");
  const searchInput = document.getElementById("searchInput");
  const toast = document.getElementById("toast");

  function escapeHtml(str){
    return String(str).replace(/[&<>"']/g, s => ({
      "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
    }[s]));
  }

  function renderSubjects(filterTag="all", query=""){
    const q = query.trim().toLowerCase();
    const filtered = subjects.filter(s => {
      const byTag = filterTag==="all" ? true : s.tag===filterTag;
      const byQuery = !q ? true : (s.title.toLowerCase().includes(q) || s.desc.toLowerCase().includes(q) || s.badge.toLowerCase().includes(q));
      return byTag && byQuery;
    });

    subjectGrid.innerHTML = filtered.map(s => `
      <div class="subject" data-tag="${escapeHtml(s.tag)}">
        <div class="top">
          <div>
            <h4>${escapeHtml(s.title)}</h4>
            <p>${escapeHtml(s.desc)}</p>
          </div>
          <div class="badge">${escapeHtml(s.badge)}</div>
        </div>
        <div class="actions">
          <button class="btn primary openFromCard" data-subject="${escapeHtml(s.title)}">Обсудить</button>
          <button class="btn ghost copySubject" data-subject="${escapeHtml(s.title)}">Скопировать запрос</button>
        </div>
      </div>
    `).join("") || `<div class="subject" style="grid-column:1/-1;"><h4>Ничего не найдено</h4><p>Попробуй другое слово или сними фильтр.</p></div>`;
  }

  // initial render
  renderSubjects();
  document.getElementById("year").textContent = new Date().getFullYear();

  // chips interactions
  chips.addEventListener("click", (e) => {
    const chip = e.target.closest(".chip");
    if(!chip) return;
    document.querySelectorAll(".chip").forEach(c => c.classList.remove("active"));
    chip.classList.add("active");
    const tag = chip.dataset.tag;
    renderSubjects(tag, searchInput.value);
  });

  // search
  searchInput.addEventListener("input", () => {
    const active = document.querySelector(".chip.active")?.dataset.tag || "all";
    renderSubjects(active, searchInput.value);
  });

  // FAQ accordion
  document.getElementById("faqBox").addEventListener("click", (e) => {
    const q = e.target.closest(".q");
    if(!q) return;
    q.classList.toggle("open");
  });

  // ====== Modal logic ======
  const overlay = document.getElementById("modalOverlay");
  const openBtns = ["openModalBtn","openModalBtn2","openModalBtn3","openModalBtn4"].map(id => document.getElementById(id)).filter(Boolean);
  const closeBtn = document.getElementById("closeModalBtn");

  function openModal(subject=""){
    overlay.style.display = "flex";
    overlay.setAttribute("aria-hidden","false");
    document.body.style.overflow="hidden";
    if(subject){
      const sel = document.querySelector('select[name="subject"]');
      if(sel) sel.value = subject;
    }
  }
  function closeModal(){
    overlay.style.display = "none";
    overlay.setAttribute("aria-hidden","true");
    document.body.style.overflow="";
  }

  openBtns.forEach(b => b.addEventListener("click", () => openModal()));
  closeBtn.addEventListener("click", closeModal);
  overlay.addEventListener("click", (e) => { if(e.target === overlay) closeModal(); });
  document.addEventListener("keydown", (e) => { if(e.key === "Escape" && overlay.style.display==="flex") closeModal(); });

  // open modal from cards + copy request
  subjectGrid.addEventListener("click", (e) => {
    const open = e.target.closest(".openFromCard");
    const copy = e.target.closest(".copySubject");
    if(open){
      openModal(open.dataset.subject);
    }
    if(copy){
      const subj = copy.dataset.subject;
      const text = `Привет, Давид! Нужна помощь по направлению: ${subj}.\nКратко задача: ...\nСрок: ...\nФормат сдачи/требования: ...\nЧто уже есть (код/файл/данные): ...`;
      copyToClipboard(text);
      showToast("Запрос скопирован.", "Вставь в Telegram и заполни детали.");
    }
  });

  // Copy contact buttons
  document.getElementById("copyTgBtn").addEventListener("click", () => {
    copyToClipboard(TELEGRAM_HANDLE);
    showToast("Telegram скопирован.", TELEGRAM_HANDLE);
  });
  document.getElementById("copyMailBtn").addEventListener("click", () => {
    copyToClipboard(EMAIL);
    showToast("Email скопирован.", EMAIL);
  });

  // Form -> generate message
  const form = document.getElementById("leadForm");
  const previewBtn = document.getElementById("previewBtn");

  function buildMessage(fd){
    const name = fd.get("name") || "";
    const contact = fd.get("contact") || "";
    const subject = fd.get("subject") || "";
    const deadline = fd.get("deadline") || "";
    const goal = fd.get("goal") || "";
    const task = fd.get("task") || "";
    return [
      "Привет, Давид! Хочу обсудить задачу.",
      "",
      `Имя: ${name}`,
      `Контакт: ${contact}`,
      `Направление: ${subject}`,
      `Срок: ${deadline}`,
      `Цель: ${goal}`,
      "",
      "Описание задачи / требования:",
      task ? task : "(добавлю тут детали)",
      "",
      "Материалы (если есть): ссылка/файл/скриншоты."
    ].join("\n");
  }

  previewBtn.addEventListener("click", () => {
    const fd = new FormData(form);
    const msg = buildMessage(fd);
    showToast("Предпросмотр текста заявки:", "Прокрути ниже — текст уже в буфере.");
    copyToClipboard(msg);
  });

  form.addEventListener("submit", (e) => {
    e.preventDefault();
    const fd = new FormData(form);
    const msg = buildMessage(fd);
    copyToClipboard(msg);
    showToast("Текст заявки скопирован.", `Вставь в Telegram: ${TELEGRAM_HANDLE}`);
    closeModal();
    form.reset();
  });

  // Clipboard + toast
  async function copyToClipboard(text){
    try{
      await navigator.clipboard.writeText(text);
    }catch(err){
      // fallback
      const ta = document.createElement("textarea");
      ta.value = text;
      document.body.appendChild(ta);
      ta.select();
      document.execCommand("copy");
      ta.remove();
    }
  }

  let toastTimer = null;
  function showToast(title, subtitle=""){
    toast.innerHTML = `<div>${escapeHtml(title)}</div>${subtitle ? `<small>${escapeHtml(subtitle)}</small>` : ""}`;
    toast.style.display = "block";
    clearTimeout(toastTimer);
    toastTimer = setTimeout(() => toast.style.display = "none", 3200);
  }
</script>
</body>
</html>
